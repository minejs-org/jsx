import {isSignal,effect}from'@minejs/signals';function s(e,n){return typeof e=="function"?e(n||{}):C(e,n||{})}var g=s;function f(e){let n=document.createDocumentFragment();return d(e.children).forEach(o=>{o instanceof Node&&n.appendChild(o);}),n}function C(e,n){let t=document.createElement(e);for(let[o,r]of Object.entries(n))o==="children"?x(t,r):o==="ref"?J(t,r):o.startsWith("on")?X(t,o,r):o==="className"||o==="class"?M(t,r):o==="style"?w(t,r):isSignal(r)?T(t,o,r):typeof r=="boolean"?r&&t.setAttribute(o,""):r!=null&&t.setAttribute(o,String(r));return t}function x(e,n){d(n).forEach(o=>{if(o instanceof Node)e.appendChild(o);else if(isSignal(o)){let r=document.createTextNode("");effect(()=>{r.textContent=String(o());}),e.appendChild(r);}else o!=null&&o!==false&&e.appendChild(document.createTextNode(String(o)));});}function d(e){return e==null||e===false?[]:Array.isArray(e)?e.flatMap(d):[e]}function J(e,n){isSignal(n)?n.set(e):typeof n=="function"&&n(e);}function X(e,n,t){if(typeof t!="function")return;let o=n.slice(2).toLowerCase();e.addEventListener(o,t);}function M(e,n){isSignal(n)?effect(()=>{let t=n();t!=null&&(e.className=String(t));}):n!=null&&(e.className=String(n));}function w(e,n){isSignal(n)?effect(()=>{let t=n();h(e,t);}):h(e,n);}function h(e,n){typeof n=="string"?e.style.cssText=n:typeof n=="object"&&n!=null&&Object.entries(n).forEach(([t,o])=>{if(o!=null){let r=t.replace(/[A-Z]/g,i=>`-${i.toLowerCase()}`);e.style.setProperty(r,String(o));}});}function T(e,n,t){effect(()=>{let o=t();o!=null?n in e?e[n]=o:e.setAttribute(n,String(o)):e.removeAttribute(n);});}function L(e){return e}function N(e){return n=>e(n)()}function P(e){let n=document.createDocumentFragment();return e.forEach(t=>{t instanceof Node&&n.appendChild(t);}),n}function v(e){if(isSignal(e.when)){let n=document.createComment("show"),t=document.createDocumentFragment();t.appendChild(n);let o=null;return effect(()=>{let r=e.when,i=r();i&&!o?(o=d(e.children)[0],o instanceof Node&&n.parentNode?.insertBefore(o,n)):!i&&o&&(o.remove(),o=null);}),t}else return e.when?s(f,{children:e.children}):null}function b(e){for(let n of e.children)if(isSignal(n.when)?n.when():n.when)return s(f,{children:n.children});return null}function F(e){let n=document.createDocumentFragment();if(isSignal(e.each)){let t=document.createElement("div");t.style.display="contents",effect(()=>{let o=e.each,r=o();t.innerHTML="",r.forEach((i,l)=>{let E=e.children(i,l);E instanceof Node&&t.appendChild(E);});}),n.appendChild(t);}else e.each.forEach((o,r)=>{let i=e.children(o,r);i instanceof Node&&n.appendChild(i);});return n}var m=[],p=false;function u(e,n,t={}){let o=typeof n=="string"?document.querySelector(n):n;if(!o)throw new Error(`Container not found: ${n}`);let r=typeof e=="function"?e():e;if(!r)throw new Error("Component returned null or undefined");switch(t.mode||"replace"){case "replace":o.innerHTML="",o.appendChild(r);break;case "append":o.appendChild(r);break;case "prepend":o.insertBefore(r,o.firstChild);break;default:o.innerHTML="",o.appendChild(r);}return t.onMount?.(),{element:r,unmount:()=>{if(r instanceof Element)r.remove();else if(r instanceof DocumentFragment)for(;r.firstChild;)r.removeChild(r.firstChild);t.onUnmount?.();},update:l=>{r instanceof Element&&l instanceof Element?r.replaceWith(l):l instanceof Element&&r instanceof DocumentFragment&&r.parentNode&&r.parentNode.replaceChild(l,r);}}}function H(e,n){return u(e,n,{mode:"replace"})}function S(e,n){let t=typeof n=="string"?document.querySelector(n):n;if(!t)throw new Error(`Portal container not found: ${n}`);let o=document.createComment("portal");return e instanceof Node&&t.appendChild(e),o}function D(e,n){let t=typeof n=="string"?document.querySelector(n):n,o=t instanceof HTMLElement?t:null;if(!o)throw new Error(`Container not found: ${n}`);return u(e,o,{mode:"replace"})}function R(e,n){let t=null,o=false,r=null;return i=>{if(t)return t(i);if(r){let l=document.createElement("div");return l.className="crux-lazy-error",l.textContent=`Error loading component: ${r.message}`,l.style.color="red",l}return o||(o=true,e().then(l=>{t=l.default;}).catch(l=>{r=l instanceof Error?l:new Error(String(l));})),n||O()}}function O(){let e=document.createElement("div");return e.textContent="Loading...",e}function j(e){try{return e.children}catch(n){return e.fallback(n)}}function q(e){if(e.children instanceof Promise){let n=document.createElement("div");return n.style.display="contents",e.fallback instanceof Node&&n.appendChild(e.fallback),e.children.then(t=>{n.innerHTML="",t instanceof Node&&n.appendChild(t);}),n}else return e.children}function A(e){return S(e.children,e.to)}function k(e){m.push(e),p||(p=true,queueMicrotask(z));}function z(){let e=m;m=[],p=false,e.forEach(n=>n());}function y(){return typeof window<"u"&&typeof document<"u"}function B(e){y()&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e());}function $(e){let n=typeof e=="string"?document.querySelector(e):e;if(!n||!(n instanceof HTMLElement))throw new Error(`Root container not found: ${e}`);let t=null;return {render(o){t&&t.unmount(),t=u(o,n);},unmount(){t&&(t.unmount(),t=null);}}}export{j as ErrorBoundary,F as For,f as Fragment,v as Show,q as Suspense,b as Switch,A as Teleport,L as component,P as createElements,S as createPortal,$ as createRoot,N as defineComponent,D as hydrate,y as isBrowser,s as jsx,g as jsxs,R as lazy,H as mount,B as onDOMReady,k as queueUpdate,u as render};//# sourceMappingURL=main.js.map
//# sourceMappingURL=main.js.map