'use strict';var signals=require('@minejs/signals');var f=[],d=false;function m(e,n,t={}){let o=typeof n=="string"?document.querySelector(n):n;if(!o)throw new Error(`Container not found: ${n}`);let r=typeof e=="function"?e():e;if(!r)throw new Error("Component returned null or undefined");switch(t.mode||"replace"){case "replace":o.innerHTML="",o.appendChild(r);break;case "append":o.appendChild(r);break;case "prepend":o.insertBefore(r,o.firstChild);break;default:o.innerHTML="",o.appendChild(r);}return t.onMount?.(),{element:r,unmount:()=>{if(r instanceof Element)r.remove();else if(r instanceof DocumentFragment)for(;r.firstChild;)r.removeChild(r.firstChild);t.onUnmount?.();},update:i=>{r instanceof Element&&i instanceof Element?r.replaceWith(i):i instanceof Element&&r instanceof DocumentFragment&&r.parentNode&&r.parentNode.replaceChild(i,r);}}}function b(e,n){return m(e,n,{mode:"replace"})}function y(e,n){let t=typeof n=="string"?document.querySelector(n):n;if(!t)throw new Error(`Portal container not found: ${n}`);let o=document.createComment("portal");return e instanceof Node&&t.appendChild(e),o}function P(e,n){let t=typeof n=="string"?document.querySelector(n):n,o=t instanceof HTMLElement?t:null;if(!o)throw new Error(`Container not found: ${n}`);return m(e,o,{mode:"replace"})}function v(e,n){let t=null,o=false,r=null;return l=>{if(t)return t(l);if(r){let i=document.createElement("div");return i.className="crux-lazy-error",i.textContent=`Error loading component: ${r.message}`,i.style.color="red",i}return o||(o=true,e().then(i=>{t=i.default;}).catch(i=>{r=i instanceof Error?i:new Error(String(i));})),n||S()}}function S(){let e=document.createElement("div");return e.textContent="Loading...",e}function F(e){try{return e.children}catch(n){return e.fallback(n)}}function D(e){if(e.children instanceof Promise){let n=document.createElement("div");return n.style.display="contents",e.fallback instanceof Node&&n.appendChild(e.fallback),e.children.then(t=>{n.innerHTML="",t instanceof Node&&n.appendChild(t);}),n}else return e.children}function I(e){return y(e.children,e.to)}function _(e){f.push(e),d||(d=true,queueMicrotask(C));}function C(){let e=f;f=[],d=false,e.forEach(n=>n());}function M(){return typeof window<"u"&&typeof document<"u"}function j(e){M()&&(document.readyState==="loading"?document.addEventListener("DOMContentLoaded",e):e());}function z(e){let n=typeof e=="string"?document.querySelector(e):e;if(!n||!(n instanceof HTMLElement))throw new Error(`Root container not found: ${e}`);let t=null;return {render(o){t&&t.unmount(),t=m(o,n);},unmount(){t&&(t.unmount(),t=null);}}}function R(e){return e.replace(/\s+/g," ").replace(/>\s+</g,"><").trim()}function c(e){return e.replace(/\s+/g," ").trim()}function p(e,n){return typeof e=="function"?e(n||{}):T(e,n||{})}var k=p;function g(e){let n=document.createDocumentFragment();return u(e.children).forEach(o=>{o instanceof Node&&n.appendChild(o);}),n}function T(e,n){let t=document.createElement(e),o="dangerouslySetInnerHTML"in n&&n.dangerouslySetInnerHTML!=null&&typeof n.dangerouslySetInnerHTML=="object"&&"__html"in n.dangerouslySetInnerHTML&&typeof n.dangerouslySetInnerHTML.__html=="string";for(let[r,l]of Object.entries(n))if(r==="children")o||x(t,l);else if(r==="dangerouslySetInnerHTML")w(t,l);else if(r==="ref")L(t,l);else if(r.startsWith("on"))J(t,r,l);else if(r==="className"||r==="class")X(t,l);else if(r==="style")H(t,l);else if(signals.isSignal(l))N(t,r,l);else if(typeof l=="boolean")l&&t.setAttribute(r,"");else if(l!=null)if(r in t)t[r]=l;else {let i=typeof l=="string"?c(l):String(l);t.setAttribute(r,i);}return t}function x(e,n){u(n).forEach(o=>{if(o instanceof Node)e.appendChild(o);else if(signals.isSignal(o)){let r=document.createTextNode("");signals.effect(()=>{r.textContent=String(o());}),e.appendChild(r);}else o!=null&&o!==false&&e.appendChild(document.createTextNode(String(o)));});}function u(e){return e==null||e===false?[]:Array.isArray(e)?e.flatMap(u):[e]}function L(e,n){signals.isSignal(n)?n.set(e):typeof n=="function"&&n(e);}function J(e,n,t){if(typeof t!="function")return;let o=n.slice(2).toLowerCase();e.addEventListener(o,t);}function X(e,n){signals.isSignal(n)?signals.effect(()=>{let t=n();t!=null&&(e.className=c(String(t)));}):n!=null&&(e.className=c(String(n)));}function H(e,n){signals.isSignal(n)?signals.effect(()=>{let t=n();E(e,t);}):E(e,n);}function E(e,n){typeof n=="string"?e.style.cssText=n:typeof n=="object"&&n!=null&&Object.entries(n).forEach(([t,o])=>{if(o!=null){let r=t.replace(/[A-Z]/g,l=>`-${l.toLowerCase()}`);e.style.setProperty(r,String(o));}});}function w(e,n){if(n!=null&&typeof n=="object"&&"__html"in n){let t=n.__html;typeof t=="string"&&(e.innerHTML=t);}}function N(e,n,t){signals.effect(()=>{let o=t();if(o!=null)if(n==="className"||n==="class")e.className=c(String(o));else if(n in e)e[n]=o;else {let r=typeof o=="string"?c(o):String(o);e.setAttribute(n,r);}else e.removeAttribute(n);});}function B(e){return e}function U(e){return n=>e(n)()}function V(e){let n=document.createDocumentFragment();return e.forEach(t=>{t instanceof Node&&n.appendChild(t);}),n}function W(e){if(signals.isSignal(e.when)){let n=document.createComment("show"),t=document.createDocumentFragment();t.appendChild(n);let o=null;return signals.effect(()=>{let r=e.when,l=r();l&&!o?(o=u(e.children)[0],o instanceof Node&&n.parentNode?.insertBefore(o,n)):!l&&o&&(o.remove(),o=null);}),t}else return e.when?p(g,{children:e.children}):null}function K(e){for(let n of e.children)if(signals.isSignal(n.when)?n.when():n.when)return p(g,{children:n.children});return null}function Q(e){let n=document.createDocumentFragment();if(signals.isSignal(e.each)){let t=document.createElement("div");t.style.display="contents",signals.effect(()=>{let o=e.each,r=o();t.innerHTML="",r.forEach((l,i)=>{let h=e.children(l,i);h instanceof Node&&t.appendChild(h);});}),n.appendChild(t);}else e.each.forEach((o,r)=>{let l=e.children(o,r);l instanceof Node&&n.appendChild(l);});return n}exports.ErrorBoundary=F;exports.For=Q;exports.Fragment=g;exports.Show=W;exports.Suspense=D;exports.Switch=K;exports.Teleport=I;exports.component=B;exports.createElements=V;exports.createPortal=y;exports.createRoot=z;exports.defineComponent=U;exports.hydrate=P;exports.isBrowser=M;exports.jsx=p;exports.jsxs=k;exports.lazy=v;exports.minifyHTML=R;exports.mount=b;exports.normalizeString=c;exports.onDOMReady=j;exports.queueUpdate=_;exports.render=m;//# sourceMappingURL=index.cjs.map
//# sourceMappingURL=index.cjs.map